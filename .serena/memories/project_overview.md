# 競馬情報Webアプリ「umarote」プロジェクト概要

## プロジェクトの目的
**出馬表（馬柱）からワンタップで"当日条件に近い適性"を比較**できるWebアプリ。コア体験は「開催・レース選択 → 出馬表表示 → 条件チップ押下 → 各馬の条件別成績即時反映」。

## 対象ユーザー
週末に予想をするライト〜中級者、回顧派、当日観戦ユーザー

## KPI（MVP目標）
- 馬柱→馬詳細の遷移率 30%+
- 条件トグル利用率（クッション値／周り方）50%+
- p95 API応答 < 200ms（KVキャッシュ時）
- LCP < 2.5s（モバイル回線想定）

## 技術スタック

### 現在のフロントエンド実装
- **React 19.0.0** - メインフレームワーク
- **TypeScript 5.7.2** - 型安全性
- **Vite 6.3.1** - ビルドツール・開発サーバー
- **Material-UI 7.0.2** - UIコンポーネントライブラリ
- **Emotion** - CSS-in-JS（MUIのピア依存）
- **React Router DOM 7.5.2** - クライアントサイドルーティング
- **Zustand 5.0.3** - グローバル状態管理
- **TanStack Query 5.74.4** - サーバー状態管理・キャッシング
- **Framer Motion 12.9.1** - アニメーションライブラリ
- **Lucide React 0.503.0** - アイコンライブラリ

### 計画されているインフラ（Cloudflare）
- **Pages** - React/Next.js フロント配信
- **Workers** - API（Hono/itty-router）
- **D1** - 正規化データ格納（SQLite）
- **R2** - 入力CSVの原本保管
- **KV** - 条件別集計レスポンスの短期キャッシュ（60s–5m）
- **Queues** - 大容量CSVの非同期取込
- **Cron Triggers** - クッション値/馬場情報の定時取得
- **Access** - `/admin` 保護

## 重要な競馬用語
- **周り方**: 右回り/左回り（東京/新潟/中京=左、それ以外=右）
- **クッション値**: 芝コースの「反発力」指標。数値が高いほど反発力が高い
- **出馬表（馬柱）**: レースの出走各馬リスト